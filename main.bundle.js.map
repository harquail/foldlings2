{"version":3,"sources":["/Users/nook/git/foldlings2/src/$_lazy_route_resource lazy","/Users/nook/git/foldlings2/src/app/app.component.css","/Users/nook/git/foldlings2/src/app/app.component.html","/Users/nook/git/foldlings2/src/app/app.component.ts","/Users/nook/git/foldlings2/src/app/app.module.ts","/Users/nook/git/foldlings2/src/app/box-fold.ts","/Users/nook/git/foldlings2/src/app/card.ts","/Users/nook/git/foldlings2/src/app/edge.ts","/Users/nook/git/foldlings2/src/app/fold-feature.ts","/Users/nook/git/foldlings2/src/app/plane.ts","/Users/nook/git/foldlings2/src/app/sketch/sketch.component.css","/Users/nook/git/foldlings2/src/app/sketch/sketch.component.html","/Users/nook/git/foldlings2/src/app/sketch/sketch.component.ts","/Users/nook/git/foldlings2/src/app/sketch/sketch3d.ts","/Users/nook/git/foldlings2/src/environments/environment.ts","/Users/nook/git/foldlings2/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/nook/git/foldlings2/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/nook/git/foldlings2/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<h1>\\n<app-sketch></app-sketch>\\n</h1>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/nook/git/foldlings2/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component, } from '@angular/core';\nimport { SketchComponent } from './sketch/sketch.component';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],  \n})\nexport class AppComponent {\n  \n  title = 'app works!';\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { SketchComponent } from './sketch/sketch.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SketchComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent],  \n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/app.module.ts","import { FoldFeature } from \"app/fold-feature\";\nimport { Point, Edge, EdgeKind } from \"app/edge\";\nimport { Plane, OrientationKind } from \"app/plane\";\nimport { SketchComponent } from \"app/sketch/sketch.component\";\n\nexport class BoxFold extends FoldFeature {\n    private parentPlane: Plane;\n    private start: Point;\n    private end: Point;\n    private cachedEdges?: Edge[];\n    private cachedPlanes?: Plane[];\n    public moveEnd(to: Point) {\n        if (to != this.end) {\n            this.end = to;\n            delete this.cachedEdges;\n        }\n    }\n\n    public edges(): Edge[] {\n        // make h0, and h2 first because they always exist.\n        let es = [];\n        if (this.cachedEdges) {\n            return this.cachedEdges\n        }\n\n        this.cachedPlanes = [];\n        const h0 = new Edge(this.start, new Point(this.end.x, this.start.y), this, EdgeKind.Fold);\n        const h2 = new Edge(this.end, new Point(this.start.x, this.end.y), this, EdgeKind.Fold);\n\n        //\n        //                  h0\n        //            S- - - - -\n        //         s0 |         | e0\n        //            |     h1  |\n        //            - - -< - - \n        //         s1 |         | e1\n        //     _ _ _ _|         |_ _ _ _ _ driving\n        //            |         |\n        //            |     h2  | \n        //            - - - - - E\n        //\n\n        // if box spans driving fold\n        if (this.drivingFold) {\n            const drivingY = this.drivingFold.start.y;\n            // h1 is translated by \n            const offsetY = drivingY - this.start.y;\n            const h1 = new Edge(new Point(this.end.x, this.end.y - offsetY), new Point(this.start.x, this.end.y - offsetY), this, EdgeKind.Fold);\n            const e0 = new Edge(h0.end, h1.start, this);\n            const s0 = new Edge(h1.end, this.start, this);\n            const e1 = new Edge(h1.start, this.end, this);\n            const s1 = new Edge(h2.end, h1.end, this);\n            es.push(h0, e0, h1, s0, e1, h2, s1);\n            // console.log(this.drivingFold.feature.planes());\n            // const parentPlane= SketchComponent.activeSketch.planeAt(h0.start);\n            const topPlane = new Plane([h0, e0, h1, s0], OrientationKind.Horizontal, this, this.parentPlane);\n            this.cachedPlanes.push(topPlane);\n            this.cachedPlanes.push((new Plane([e1, h2, s1, h1.reverse()], OrientationKind.Vertical, this, topPlane)));\n        }\n        else {\n            // otherwise, we only have 4 edges\n            //\n            //               h0\n            //            S------\n            //         s0 |      | e0\n            //            |      |\n            //            -------E\n            //               h2\n            const s0 = new Edge(h2.end, this.start, this);\n            const e0 = new Edge(h0.end, this.end, this);\n            h0.kind = EdgeKind.Cut;\n            h2.kind = EdgeKind.Cut;\n            es.push(h0, e0, h2, s0);\n            this.cachedPlanes.push(new Plane(es, OrientationKind.Vertical, this));\n        }\n\n        this.cachedEdges = es;\n        return es;\n    }\n\n    public planes(): Plane[] {\n        // calculate cached edges, which calculates planes as a side effect\n        this.edges();\n        return this.cachedPlanes;\n    }\n\n    public spansFold(e: Edge): boolean {\n        const minY = Math.min(this.start.y, this.end.y);\n        const maxY = Math.max(this.start.y, this.end.y);\n        const drivingY = e.start.y;\n\n        const minX = Math.min(this.start.x, this.end.x);\n        const maxX = Math.max(this.start.x, this.end.x);\n        const minDrivingX = Math.min(e.start.x, e.end.x);\n        const maxDrivingX = Math.max(e.start.x, e.end.x);\n        return minY < drivingY && maxY > drivingY && minDrivingX < minX && maxDrivingX > maxX;\n    }\n\n    public folds(): Edge[] {\n        return this.edges().filter((e) => { return e.kind == EdgeKind.Fold });\n    }\n\n    constructor(start: Point, end: Point) {\n        super();\n        this.start = start;\n        this.end = end;\n        this.parentPlane = SketchComponent.activeSketch.planeAt(this.start);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/box-fold.ts","import { FoldFeature } from \"app/fold-feature\";\nimport { Edge, Point, EdgeKind } from \"app/edge\";\nimport { Plane, OrientationKind } from \"app/plane\";\n\nexport class Card extends FoldFeature {\n\n    //                  h0\n    //            S- - - - -\n    //         s0 |         | e0\n    //            |     h1  |\n    //            - - -> - - \n    //         s1 |         | e1\n    //            |     h2  | \n    //            - - - - - E\n    //\n    public centerFold: Edge;\n    private h0: Edge;\n    private e0: Edge;\n    private h1: Edge;\n    private s0: Edge;\n    private e1: Edge;\n    private s1: Edge;\n    private h2: Edge;\n    private cachedPlanes = [];\n\n    constructor(width: number, height: number) {\n        super();\n        this.h1 = new Edge(new Point(0, height / 2), new Point(width, height / 2), this, EdgeKind.Fold);\n        this.s0 = new Edge(new Point(0, 0), this.h1.start, this);\n        this.e0 = new Edge(this.h1.end, new Point(width, 0), this);\n        this.h0 = new Edge(this.e0.end, this.s0.start, this);\n        this.e1 = new Edge(this.h1.end, new Point(width, height), this);\n        this.h2 = new Edge(this.e1.end, new Point(0, height), this);\n        this.s1 = new Edge(this.h2.end, this.h1.start, this);\n        this.centerFold = this.h1;\n        this.cachedPlanes.push(new Plane([this.s0, this.h1, this.e0, this.h0], OrientationKind.Vertical, this));\n        this.cachedPlanes.push(new Plane([this.h1.reverse(), this.s1.reverse(), this.h2.reverse(), this.e1.reverse()], OrientationKind.Horizontal, this));\n    }\n    public edges() {\n        return [this.s0, this.h1, this.e0, this.h0, this.e1, this.h2, this.s1];\n    }\n\n    public folds() {\n        return [this.centerFold];\n    }\n\n    public planes() {\n        return this.cachedPlanes;\n    }\n\n    public spansFold(e: Edge) {\n        return false;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/card.ts","import { FoldFeature } from \"app/fold-feature\"\nexport class Point {\n    public x: number;\n    public y: number;\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n}\n\nexport enum EdgeKind {\n    Fold,\n    Cut,\n}\n// really just a straight line right now.\n// #TODO: maybe just use svgpathelements\nexport class Edge {\n    public start: Point;\n    public end: Point;\n    public color: string;\n    public kind: EdgeKind;\n    public feature: FoldFeature;\n\n    constructor(start: Point, end: Point, feature: FoldFeature, kind: EdgeKind = EdgeKind.Cut) {\n        this.start = start;\n        this.end = end;\n        this.kind = kind;\n        this.feature = feature;\n        this.color = this.edgeColor(this.kind);\n    }\n\n    // TODO move this to view layer\n    private edgeColor(kind: EdgeKind): string {\n        switch (kind) {\n            case EdgeKind.Cut:\n                return `rgb(${this.randomBetween(50, 255)},${this.randomBetween(0, 0)},${this.randomBetween(0, 255)})`\n            case EdgeKind.Fold:\n                return `rgb(${this.randomBetween(0, 0)},${this.randomBetween(100, 255)},${this.randomBetween(0, 0)})`\n        }\n    }\n\n    private randomBetween(min: number, max: number) {\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n\n    public reverse() {\n        return new Edge(this.end, this.start, this.feature, this.kind);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/edge.ts","import { Edge } from \"app/edge\";\nimport { Plane } from \"app/plane\";\n\nexport class FoldFeature {\n\n    public edges() {\n        return [];\n    }\n\n    public folds() {\n        return [];\n    }\n\n    public planes(): Plane[] {\n        return [];\n    }\n\n    public topPlane():Plane | null {\n        return this.planes()[0] || null;\n    }\n\n    public drivingFold?: Edge;\n\n    public setDriver(fold: Edge) {\n        this.drivingFold = fold;\n    }\n\n    public spansFold(e: Edge) {\n        return false;\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/fold-feature.ts","import { Edge, Point, EdgeKind } from \"app/edge\";\nimport * as THREE from \"three\";\nimport * as _ from \"lodash\";\nimport * as Polygon from \"polygon\";\nimport * as PolyBool from \"polybooljs\";\nimport { FoldFeature } from \"app/fold-feature\";\n\nexport enum OrientationKind {\n    Vertical,\n    Horizontal,\n}\n\n// type Polygon = any;\n\nexport class Plane {\n\n    public orientation: OrientationKind;\n    public polygon: Polygon;\n\n    get points() {\n        return this.polygon.points;\n    }\n\n    public color: THREE.Color;\n    public pivotPoint: Point;\n    public feature: FoldFeature;\n    public parent?: Plane;\n\n    public svgColor(): string {\n        return `rgb(${this.color.r * 255},${this.color.g * 255},${this.color.b * 255})`\n    }\n    private randomColor(): THREE.Color {\n        let numParents = 0.2;\n        let parent: Plane = this;\n        while (parent = parent.parent) {\n            numParents += .1;\n        }\n        switch (this.orientation) {\n            case OrientationKind.Horizontal:\n                return new THREE.Color(this.randomBetween(20, 20) / 255, this.randomBetween(255 * numParents, 255 * numParents) / 255, this.randomBetween(255 * numParents, 255 * numParents) / 255);\n            case OrientationKind.Vertical:\n                return new THREE.Color(this.randomBetween(255 * numParents, 255 * numParents) / 255, this.randomBetween(0, 0) / 255, this.randomBetween(255 * numParents, 255 * numParents) / 255);\n        }\n    }\n    private randomBetween(min: number, max: number) {\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n\n    public svgPoints(): string {\n\n        return this.polygon.points.map(function (p) {\n            return `${p.x},${p.y}`;\n        }).join(\" \");\n    }\n\n    public equals(plane: Plane): boolean {\n        return this.polygon.equal(plane.polygon);\n    }\n\n    public cutBy(p: Plane): Plane {\n        const cuts = PolyBool.difference({\n            regions: [p.polygon.toArray()],\n            inverted: false\n        }, {\n                regions: [this.polygon.toArray()],\n                inverted: false\n            });\n\n        for (const region of cuts.regions) {\n            if (region.length > 4) {\n                const cutPoly = new Polygon(region);\n                p.polygon = cutPoly\n                const newPlane = new Plane([], this.orientation, this.feature, this.parent);\n                newPlane.polygon = cutPoly;\n                break;\n            }\n        }\n        return this;\n    }\n\n    constructor(edges: Edge[], orientation, feature: FoldFeature, parent?: Plane) {\n        this.feature = feature;\n        this.polygon = new Polygon(edges.map((e) => e.start));\n        this.pivotPoint = _.minBy(this.polygon.points, (p) => { return p.x + p.y });\n        this.orientation = orientation;\n        this.parent = parent;\n        this.color = this.randomColor();\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/plane.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#paper{\\n    width: 600px;\\n    height: 800px;\\n    background-color: beige;\\n}\\n\\n#threeD{\\n    position: absolute;\\n    left: 630px;\\n    top: 30px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/nook/git/foldlings2/src/app/sketch/sketch.component.css\n// module id = ../../../../../src/app/sketch/sketch.component.css\n// module chunks = main","module.exports = \"<div id=\\\"paper\\\">\\n  <svg style=\\\"width: 100%; height: 100%;\\\" (mousedown)=\\\"handleMouseDown($event)\\\" (mouseup)=\\\"handleMouseUp($event)\\\" (mousemove)=\\\"handleMove($event)\\\">\\n    <svg:g [attr.id]=\\\"i\\\" *ngFor=\\\"let feature of features()\\\">\\n      <ng-container *ngFor=\\\"let plane of feature.planes()\\\">\\n        <polygon [attr.points]=\\\"plane.svgPoints()\\\" [attr.fill]=\\\"plane.svgColor()\\\" fill-rule=\\\"evenodd\\\" style=\\\"stroke-width:2\\\" opacity=\\\"1.0\\\"/>\\n      </ng-container>\\n      <ng-container *ngFor=\\\"let edge of feature.edges()\\\">\\n        <line [attr.x1]=\\\"edge.start.x\\\" [attr.y1]=\\\"edge.start.y\\\" [attr.x2]=\\\"edge.end.x\\\" [attr.y2]=\\\"edge.end.y\\\" [attr.stroke]=\\\"edge.color\\\"\\n          style=\\\"stroke-width:2\\\" fill-rule=\\\"evenodd\\\" />\\n      </ng-container>\\n    </svg:g>\\n  </svg>\\n  <div id=\\\"threeD\\\">\\n    <div #container></div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/nook/git/foldlings2/src/app/sketch/sketch.component.html\n// module id = ../../../../../src/app/sketch/sketch.component.html\n// module chunks = main","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FoldFeature } from 'app/fold-feature';\nimport { BoxFold } from 'app/box-fold';\nimport { Card } from 'app/card';\nimport { Plane } from 'app/plane';\nimport { Point } from 'app/edge';\nimport * as _ from 'lodash';\nimport { Sketch3d } from 'app/sketch/sketch3d';\n\n@Component({\n  selector: 'app-sketch',\n  templateUrl: './sketch.component.html',\n  styleUrls: ['./sketch.component.css']\n\n})\nexport class SketchComponent implements OnInit {\n\n  @ViewChild('container') elementRef: ElementRef;\n  private container: HTMLElement;\n  private sketch3d: Sketch3d;\n  public static activeSketch: SketchComponent;\n\n  private currentFeature?: BoxFold;\n  private previousFeatures: FoldFeature[] = [];\n\n  constructor() {\n    const card = new Card(600, 800);\n    this.previousFeatures.push(card);\n    SketchComponent.activeSketch = this;\n  }\n\n  public features() {\n    let features = this.previousFeatures;\n    if (this.currentFeature) {\n      features = features.concat(this.currentFeature);\n    }\n    return features;\n  };\n\n  handleMouseDown(e: MouseEvent) {\n    const p = new Point(e.clientX, e.clientY);\n    console.log(this.featureAt(p));\n    console.log(this.planeAt(p));\n    this.currentFeature = new BoxFold(p, p);\n\n  }\n\n\n  public featureAt(p: Point): FoldFeature | null {\n    return this.planeAt(p).feature || null;\n  }\n\n  public planeAt(p: Point): Plane | null {\n    for (const plane of _.flatten(this.features().map((f) => f.planes()))) {\n      if (plane.polygon.containsPoint(p)) {\n        return plane;\n      }\n    }\n    return null;\n  }\n\n  handleMouseUp(e: MouseEvent) {\n    this.sketch3d.addFeature(this.currentFeature);\n    this.previousFeatures.push(this.currentFeature);\n    delete this.currentFeature;\n  }\n\n  handleMove(e: MouseEvent) {\n    if (this.currentFeature) {\n      const p = new Point(e.clientX, e.clientY);\n\n      if (!this.currentFeature.drivingFold || !this.currentFeature.spansFold(this.currentFeature.drivingFold)) {\n        delete this.currentFeature.drivingFold;\n        // reversing previous features for now â€” will eventually split all the driving potential folds\n        outer: for (const feature of this.previousFeatures) {\n          for (const fold of feature.folds()) {\n            if (this.currentFeature.spansFold(fold)) {\n              this.currentFeature.setDriver(fold);\n              break outer;\n            }\n          }\n        }\n      }\n      (this.currentFeature as BoxFold).moveEnd(p);\n    }\n  }\n\n  ngOnInit() {\n    this.reDrawSketch();\n  }\n\n  reDrawSketch() {\n    this.container = this.elementRef.nativeElement;\n    this.sketch3d = new Sketch3d(_.flatten(this.features()), this.container);\n    this.sketch3d.init();\n    for (const feature of this.features()) {\n      this.sketch3d.addFeature(feature);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/sketch/sketch.component.ts","import { Plane, OrientationKind } from \"app/plane\";\nimport * as THREE from 'three';\nimport { FoldFeature } from \"app/fold-feature\";\nimport * as _ from \"lodash\";\nimport * as Polygon from \"polygon\";\n\nexport class Plane3d extends Plane {\n  mesh?: THREE.Mesh\n  pivot?: THREE.Mesh\n}\n\nexport class Sketch3d {\n  private features: FoldFeature[];\n\n  private scene: THREE.Scene;\n  private camera: THREE.PerspectiveCamera;\n  private renderer: THREE.WebGLRenderer;\n  private container: HTMLElement;\n  private planes: Plane3d[] = [];\n\n  constructor(features: FoldFeature[], container: HTMLElement) {\n    this.features = features;\n    this.container = container;\n  }\n\n  public addFeature(feature: FoldFeature) {\n    this.features.push(feature);\n\n    const newPlanes = feature.planes();\n    this.planes.push(...newPlanes);\n\n    for (const plane of newPlanes) {\n      const p = this.plane2Dto3D(plane);\n      const s = p.pivotPoint;\n      var pointGeo = new THREE.SphereGeometry(5);\n      var pointMesh = new THREE.Mesh(pointGeo, new THREE.MeshPhongMaterial({ color: p.color, transparent: true, opacity: 1 }));\n      p.pivot = pointMesh;\n\n      if (plane.parent) {\n        let parent = plane.parent;\n        const totalParentOffset = new THREE.Vector2(0, 0);\n        while (parent) {\n          totalParentOffset.x += parent.pivotPoint.x;\n          totalParentOffset.y += parent.pivotPoint.y;\n          parent = parent.parent;\n        }\n        pointMesh.position.set(s.x - p.parent.pivotPoint.x, -s.y + p.parent.pivotPoint.y, 0);\n        // p.mesh.position.set(-s.x, s.y, 0);\n        (p.parent as Plane3d).pivot.add(p.pivot);\n        p.pivot.add(p.mesh);\n      }\n      else {\n        // p.mesh.position.set(-s.x, s.y, 0);\n        pointMesh.position.set(s.x, -s.y, 0);\n        this.scene.add(pointMesh);\n        pointMesh.add((plane as Plane3d).mesh);\n      }\n\n    }\n\n\n    // cut out holes for new planes\n    for (const plane of newPlanes) {\n      for (let p3 of this.planes) {\n        plane.cutBy(p3);\n        if (p3.points.length > 4) {\n          p3.pivot.remove(p3.mesh);\n          const p3New = this.plane2Dto3D(p3);\n          const s = p3.pivotPoint;\n          p3.pivot.add(p3.mesh);\n\n        }\n      }\n    }\n\n    // again... TODO: this is a terrible hack\n    for (const plane of newPlanes) {\n      for (let p3 of this.planes) {\n        plane.cutBy(p3);\n        if (p3.points.length > 4) {\n          p3.pivot.remove(p3.mesh);\n          const p3New = this.plane2Dto3D(p3);\n          const s = p3.pivotPoint;\n          p3.pivot.add(p3.mesh);\n\n        }\n      }\n    }\n    // }\n    this.setPlanePositions();\n  }\n\n  private plane2Dto3D(plane: Plane): Plane3d {\n    const plane3d = plane as Plane3d;\n    var planeShape = new THREE.Shape();\n    planeShape.moveTo(plane.points[0].x, -plane.points[0].y);\n    for (const point of plane.points) {\n      planeShape.lineTo(point.x, -point.y);\n    }\n    var extrudeSettings = { amount: 0.1, bevelEnabled: true, bevelSegments: 2, steps: 2, bevelSize: 1, bevelThickness: 1 };\n    var geometry = new THREE.ExtrudeGeometry(planeShape, extrudeSettings);\n    let material = new THREE.MeshPhongMaterial({ color: \"#666\" });\n    plane3d.mesh = new THREE.Mesh(geometry, material);\n    const s = plane.pivotPoint;\n    // if(plane.feature){\n    plane3d.mesh.position.set(-s.x, s.y, 0);\n    // } \n\n    return plane3d;\n  }\n\n  public init() {\n    let screen = {\n      width: 600,\n      height: 800\n    },\n      view = {\n        angle: 45,\n        aspect: screen.width / screen.height,\n        near: 1000,\n        far: 2500\n      };\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(view.angle, view.aspect, view.near, view.far);\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n\n    this.scene.add(this.camera);\n    this.scene.add(new THREE.AxisHelper(2));\n\n    this.camera.position.set(1500, 0, 1500);\n    this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n\n    this.renderer.setSize(screen.width, screen.height);\n    this.container.appendChild(this.renderer.domElement);\n\n    var light = new THREE.PointLight(0xffffff, 9, 2600);\n    light.position.set(1500, 0, 1500);\n    this.scene.add(light);\n\n    this.render();\n  }\n  public render() {\n    let self: Sketch3d = this;\n\n    (function render() {\n      requestAnimationFrame(render);\n      self.renderer.render(self.scene, self.camera);\n\n      self.animate();\n    }());\n  }\n\n  private accumulatedRotation = 0;\n  private direction = -1;\n\n  public animate() {\n    this.accumulatedRotation += 0.01 * this.direction;\n    if (Math.abs(this.accumulatedRotation) + 0.05 > Math.PI) {\n      this.direction *= -1;\n    }\n    this.setPlanePositions();\n  }\n  private setPlanePositions() {\n    // console.log(this.planes);\n    for (const plane of this.planes) {\n      if (plane.pivot) {\n        switch (plane.orientation) {\n          case OrientationKind.Vertical:\n            if (plane.parent) {\n              plane.pivot.setRotationFromEuler(new THREE.Euler(-this.accumulatedRotation, 0, 0));\n            }\n            break;\n          case OrientationKind.Horizontal:\n            plane.pivot.setRotationFromEuler(new THREE.Euler(this.accumulatedRotation, 0, 0));\n            break;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/app/sketch/sketch3d.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/nook/git/foldlings2/src/main.ts"],"sourceRoot":"webpack:///"}